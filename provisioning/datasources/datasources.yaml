apiVersion: 1

# We don't use deleteDatasources as it would remove the datasource on every restart

datasources:
  - name: Mirador Core Connector
    type: platformbuildspvtltd-miradorstackconnect-datasource
    access: proxy
    url: http://172.20.10.2:8080
    orgId: 1
    isDefault: true
    version: 1
    jsonData:
      timeout: 30
      tenantId: default
    secureJsonData:
      bearerToken: ""
    editable: true
    # This tells Grafana to only create this datasource if it doesn't exist
    # This prevents overwriting user changes on container restart
    skipUpdate: true